@using System.Web.Optimization
@model Tateeda.Clires.Core.Data.EF.ISubject
@{
	ViewBag.Title = "Appointments";
	Layout = string.IsNullOrWhiteSpace(ViewBag.Layout) ? "~/Views/Shared/_Layout.cshtml" : ViewBag.Layout;
}
@section scripts
{
	<script type="text/javascript">
		var studyId = eval(@ViewBag.StudyId);
		var siteId = eval(@ViewBag.SiteId);
	</script>
	@Scripts.Render("~/Scripts/app/Subject/subject.js")
}
<div class="site-title">Site Subjects</div>
<div class="container">
	<div class="modal hide fade in" style="display: none; top: 40%;" id="subject-modal">

		<div class="modal-header">
			<a class="close" data-dismiss="modal" style="width: 10px; height: 10px;" aria-hidden="true">&nbsp;X&nbsp;</a>
			<div class="title">Subject</div>
		</div>
		<div class="modal-body model-border">
			<!-- ko template:{name: 'subjectTmpl', data: sub.vm.subject() } -->
			<!-- /ko -->
		</div>
	</div>

	<div class="row-fluid">
		<div class="span2">
			<a href="#" data-toggle="modal" class="btn btn-primary" id="modellink">New Subject</a>
		</div>
	</div>
	<br />
	<div id="debug" class=""></div>
</div>

<div class='cliresGrid app-grid'>
	<div data-bind='simpleGrid: sub.vm.gridViewModel'></div>
</div>

<script type="text/html" id="subjectTmpl">
	<div class="container-fluid">
		@Html.Partial("_Subject")
	</div>
</script>
